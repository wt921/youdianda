"use strict";(self["webpackChunkyoudianda"]=self["webpackChunkyoudianda"]||[]).push([[960],{1960:function(t,i,e){e.r(i),e.d(i,{default:function(){return d}});var a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"yyd-index"},[i("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.lunBoList,(function(t){return i("van-swipe-item",{key:t.id},[i("img",{staticClass:"pic1",attrs:{src:"http://122.51.249.55:8060/"+t.advimgsrc}})])})),1),i("van-notice-bar",{attrs:{"left-icon":"volume-o",text:"在代码阅读过程中人们说脏话的频率是衡量代码质量的唯一标准。"}}),i("div",{staticClass:"hotRecommend"},[i("van-cell-group",[i("van-cell",{attrs:{title:"热门推荐"}})],1),i("van-grid",{attrs:{"column-num":3,border:!0,gutter:10}},t._l(t.recommendList,(function(e){return i("van-grid-item",{key:e.id,attrs:{text:e.title},on:{click:function(i){return t.clickFn(e.id)}}},[i("van-image",{attrs:{src:"http://122.51.249.55:8060/"+e.pic,height:"80",width:"100%",fit:"cover"}}),i("p",{staticClass:"ydd-txt"},[t._v(t._s(e.title))])],1)})),1)],1),i("van-cell-group",{staticClass:"updatnew"},[i("van-cell",{attrs:{title:"最近更新",value:"24小时:/1周:"}}),i("div",[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",error:t.error,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(i){t.error=i},load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[t._l(t.newUpdateList,(function(e){return i("van-cell",{key:e.id,staticClass:"article-item",on:{click:function(i){return t.clickFn(e.id)}},scopedSlots:t._u([{key:"title",fn:function(){return[i("h3",{staticClass:"title"},[t._v(t._s(e.title))])]},proxy:!0},{key:"default",fn:function(){return[i("van-image",{staticClass:"right-cover",attrs:{fit:"cover",src:"http://122.51.249.55:8060/"+e.pic}})]},proxy:!0},{key:"label",fn:function(){return[i("div",{staticClass:"cover-wrap"},[i("div",{staticClass:"describe"},[t._v(t._s(e.description))]),i("div",{staticClass:"label-info-wrap"},[i("div",[i("i",{staticClass:"fa fa-heart-o"}),i("span",[t._v("收藏("+t._s(e.lovenum)+")")])]),i("div",[i("i",{staticClass:"fa fa-thumbs-o-up",attrs:{"aria-hidden":"true"}}),i("span",[t._v("点赞("+t._s(e.click)+")")])])])])]},proxy:!0}],null,!0)})})),i("hr")],2)],1)],1)],1)},n=[],s=e(2419),r={name:"Home",data(){return{recommendList:{},page:1,limit:10,loading:!1,finished:!1,error:!1,newUpdateList:[],lunBoList:[]}},created(){this.getRecommend(),this.getIndex()},methods:{async getIndex(){const{data:t}=await(0,s.oL)();console.log(t),this.lunBoList=t.data.banner},async getRecommend(){const{data:t}=await(0,s._t)();console.log(t),this.recommendList=t.data.list},async onLoad(){try{const{data:t}=await(0,s.hD)({page:this.page,limit:this.limit});console.log(t),this.newUpdateList.push(...t.data.list.data),this.loading=!1,t.data.list.data.length<this.limit?this.finished=!0:this.page++}catch(t){this.loading=!1,this.error=!0,console.log(t)}},clickFn(t){this.$router.push({path:"/article",query:{id:t}})}}},o=r,l=e(1001),c=(0,l.Z)(o,a,n,!1,null,"e72cd806",null),d=c.exports},2419:function(t,i,e){e.d(i,{_t:function(){return n},hD:function(){return s},oL:function(){return r}});var a=e(4471);const n=()=>(0,a.Z)({url:"/home/index/hot",method:"get"}),s=t=>(0,a.Z)({url:"/home/index/new",method:"get",params:t}),r=()=>(0,a.Z)({url:"/home/index/index",method:"get"})}}]);